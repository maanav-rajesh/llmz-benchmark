// Generated by Claude
import { z } from "@bpinternal/zui";

// read_file schemas
export const read_file_output = z.object({
  content: z.string().describe("The contents of the file."),
  error: z
    .string()
    .nullable()
    .describe("Error message if the operation failed."),
});

// read_text_file schemas
export const read_text_file_output = z.object({
  content: z.string().describe("The contents of the file."),
  error: z
    .string()
    .nullable()
    .describe("Error message if the operation failed."),
});

// read_media_file schemas
export const read_media_file_output = z.object({
  data: z
    .string()
    .describe("Base64 encoded file data, or empty string if error occurred."),
  mimeType: z.string().describe("MIME type of the file."),
  error: z
    .string()
    .nullable()
    .describe("Error message if the operation failed."),
});

// read_multiple_files schemas
export const read_multiple_files_output = z.object({
  results: z
    .array(
      z.object({
        path: z.string().describe("The path to the file."),
        content: z
          .string()
          .nullable()
          .describe("The contents of the file if read successfully."),
        error: z
          .string()
          .nullable()
          .describe("Error message if the file could not be read."),
      })
    )
    .describe("Array of results, one per file."),
});

// write_file schemas
export const write_file_output = z.object({
  success: z.boolean().describe("Whether the operation succeeded."),
  message: z.string().describe("Success or error message."),
});

// edit_file schemas
export const edit_file_output = z.object({
  diff: z
    .string()
    .describe(
      "Git-style diff showing the changes, or error message starting with 'Error:' if the operation failed."
    ),
  applied: z.boolean().describe("Whether the changes were applied."),
});

// create_directory schemas
export const create_directory_output = z.object({
  success: z.boolean().describe("Whether the operation succeeded."),
  message: z.string().describe("Success or error message."),
});

// list_directory schemas
export const list_directory_output = z.object({
  entries: z
    .array(z.string())
    .describe("Array of entries with [FILE] or [DIR] prefix."),
  error: z
    .string()
    .nullable()
    .describe("Error message if the operation failed."),
});

// list_directory_with_sizes schemas
export const list_directory_with_sizes_output = z.object({
  entries: z
    .array(
      z.object({
        name: z.string().describe("Name of the entry."),
        type: z.enum(["file", "directory"]).describe("Type of entry."),
        size: z.number().nullable().describe("Size in bytes (only for files)."),
      })
    )
    .describe("Array of directory entries with size information."),
  error: z
    .string()
    .nullable()
    .describe("Error message if the operation failed."),
});

// directory_tree schemas
export const directory_tree_output = z.object({
  tree: z.string().describe("JSON string representing the directory tree."),
  error: z
    .string()
    .nullable()
    .describe("Error message if the operation failed."),
});

// move_file schemas
export const move_file_output = z.object({
  success: z.boolean().describe("Whether the operation succeeded."),
  message: z.string().describe("Success or error message."),
});

// search_files schemas
export const search_files_input = z.object({
  path: z
    .string()
    .describe("The absolute path to the directory to start searching from."),
  pattern: z
    .string()
    .describe("The search pattern (case-insensitive, matches partial names)."),
});
export const search_files_output = z.object({
  matches: z
    .array(z.string())
    .describe("Array of full paths to matching files and directories."),
  error: z
    .string()
    .nullable()
    .describe("Error message if the operation failed."),
});

// get_file_info schemas
export const get_file_info_output = z.object({
  path: z.string().describe("The path to the file or directory."),
  size: z.number().describe("Size in bytes."),
  isFile: z.boolean().describe("True if it's a file."),
  isDirectory: z.boolean().describe("True if it's a directory."),
  created: z.string().describe("Creation timestamp."),
  modified: z.string().describe("Last modified timestamp."),
  accessed: z.string().describe("Last accessed timestamp."),
  error: z
    .string()
    .nullable()
    .describe("Error message if the operation failed."),
});

// list_allowed_directories schemas
export const list_allowed_directories_output = z.object({
  directories: z
    .array(z.string())
    .describe("Array of allowed directory paths."),
});

export const outputSchemas = {
  read_file: read_file_output,
  read_text_file: read_text_file_output,
  read_media_file: read_media_file_output,
  read_multiple_files: read_multiple_files_output,
  write_file: write_file_output,
  edit_file: edit_file_output,
  create_directory: create_directory_output,
  list_directory: list_directory_output,
  list_directory_with_sizes: list_directory_with_sizes_output,
  directory_tree: directory_tree_output,
  move_file: move_file_output,
  search_files: search_files_output,
  get_file_info: get_file_info_output,
  list_allowed_directories: list_allowed_directories_output,
};
